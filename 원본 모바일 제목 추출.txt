import os
import requests
import telegram
from bs4 import BeautifulSoup

# 텔레그램 봇 생성
access_token = os.environ["BOT_TOKEN"]
token = access_token
bot = telegram.Bot(token=token)

# 검색 키워드
search_word = '삼성전자'

# 해당 url의 html문서를 soup 객체로 저장
url = f'https://m.search.naver.com/search.naver?where=m_news&sm=mtb_jum&query={search_word}'
req = requests.get(url)
html = req.text
soup = BeautifulSoup(html, 'html.parser')

search_result = soup.select_one('#news_result_list')
news_links = search_result.select('.bx > .news_wrap > a')

for news in news_links[:20]:
    bot.sendMessage(chat_id='token', text=link)
